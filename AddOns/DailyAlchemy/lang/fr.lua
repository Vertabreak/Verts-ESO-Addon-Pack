------------------------------------------------
-- French localization for DailyAlchemy
------------------------------------------------

ZO_CreateStringId("DA_CRAFTING_QUEST",      "Commande d'alchimie")       -- [fr.lang.csv] "52420949","0","5415","xxxxxxxx"
ZO_CreateStringId("DA_CRAFTING_MASTER",     "Une concoction magistrale") -- [fr.lang.csv] "52420949","0","5980","xxxxxxxx"
ZO_CreateStringId("DA_CRAFTING_WITCH",      "Festival des sorcières")    -- [fr.lang.csv] "52420949","0","6427","xxxxxxxx"

ZO_CreateStringId("DA_BULK_HEADER",         "Création en bloc")
ZO_CreateStringId("DA_BULK_FLG",            "Créer tous les éléments demandés à la fois")
ZO_CreateStringId("DA_BULK_FLG_TOOLTIP",    "Utilisez-le lorsque vous souhaitez créer une grande quantité d'éléments demandés.")
ZO_CreateStringId("DA_BULK_COUNT",          "Quantité à créer")
ZO_CreateStringId("DA_BULK_COUNT_TOOLTIP",  "En fait, plus que cette quantité sera faite.(Dépend des compétences d'alchimie)")

ZO_CreateStringId("DA_CRAFT_WRIT",          "Artisanat Commande de maître")
ZO_CreateStringId("DA_CRAFT_WRIT_MSG",      "En accédant à la Établi d'alchimie, <<1>>")
ZO_CreateStringId("DA_CANCEL_WRIT",         "Annuler Commande de maître")
ZO_CreateStringId("DA_CANCEL_WRIT_MSG",     "Annulé Commande de maître")

ZO_CreateStringId("DA_PRIORITY_HEADER",     "Priorité de Réactifs")
ZO_CreateStringId("DA_PRIORITY_BY",         "Priorité du réactif à utiliser")
ZO_CreateStringId("DA_PRIORITY_BY_STOCK",   "Beaucoup d'inventaire")
ZO_CreateStringId("DA_PRIORITY_BY_MM",      "Réactif à bas prix chez [MasterMerchant]")
ZO_CreateStringId("DA_PRIORITY_BY_TTC",     "Réactif à bas prix chez [TamrielTradeCentre]")
ZO_CreateStringId("DA_PRIORITY_BY_ATT",     "Réactif à bas prix chez [ArkadiusTradeTools]")
ZO_CreateStringId("DA_PRIORITY_BY_MANUAL",  "Définir manuellement")
ZO_CreateStringId("DA_SHOW_PRICE_MANUAL",   "Afficher le prix[<<1>>]")
ZO_CreateStringId("DA_PRIORITY_CHANGED",    "Le paramètre d'extension [<<1>>] a été modifié car <<2>> est désactivé")

ZO_CreateStringId("DA_OTHER_HEADER",        "Autre")
ZO_CreateStringId("DA_ACQUIRE_ITEM",        "Récupérer des articles de la banque")
ZO_CreateStringId("DA_DELAY",               "Temps de retard(secondes)")
ZO_CreateStringId("DA_DELAY_TOOLTIP",       "Délai de récupération de l'élément\nSi vous ne parvenez pas à bien sortir l'objet, augmentez-le.")
ZO_CreateStringId("DA_AUTO_EXIT",           "Sortie automatique de la fenêtre d'artisanat")
ZO_CreateStringId("DA_AUTO_EXIT_TOOLTIP",   "Sortie automatique de la fenêtre d'artisanat lorsque tout est terminé.")
ZO_CreateStringId("DA_ITEM_LOCK",           "Ne pas utiliser d'objets verrouillés")
ZO_CreateStringId("DA_LOG",                 "Afficher le journal")
ZO_CreateStringId("DA_DEBUG_LOG",           "Afficher le journal de débogage")

ZO_CreateStringId("DA_NOTHING_ITEM",        "Aucun articles dans le sac à dos (<<1>>)")
ZO_CreateStringId("DA_SHORT_OF",            "... court de matériaux(<<1>>)")
ZO_CreateStringId("DA_MISMATCH_ITEM",       "... [Erreur]Le nom ne correspond pas (<<1>>)")

ZO_CreateStringId("DA_HEALTH",              "Rend de la Santé")                 -- Restore Health        [fr.lang.csv] "156152165","0","1","xxxxxxxx"
ZO_CreateStringId("DA_RVG_HEALTH",          "Réduit la Santé")                  -- Ravage Health         [fr.lang.csv] "156152165","0","2","xxxxxxxx"
ZO_CreateStringId("DA_MAGICKA",             "Rend de la Magie")                 -- Restore Magicka       [fr.lang.csv] "156152165","0","3","xxxxxxxx"
ZO_CreateStringId("DA_RVG_MAGICKA",         "Réduit la Magie")                  -- Ravage Magicka        [fr.lang.csv] "156152165","0","4","xxxxxxxx"
ZO_CreateStringId("DA_STAMINA",             "Rend de la Vigueur")               -- Restore Stamina       [fr.lang.csv] "156152165","0","5","xxxxxxxx"
ZO_CreateStringId("DA_RVG_STAMINA",         "Ravage de Vigueur")                -- Ravage Stamina        [fr.lang.csv] "156152165","0","6","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_RESIST",        "Augmente la résistance aux sorts") -- Increase Spell Resist [fr.lang.csv] "156152165","0","7","xxxxxxxx"
ZO_CreateStringId("DA_BREACH",              "Brèche")                           -- Breach                [fr.lang.csv] "156152165","0","8","xxxxxxxx"
ZO_CreateStringId("DA_ARMOR",               "Augmente l'armure")                -- Increase Armor        [fr.lang.csv] "156152165","0","9","xxxxxxxx"
ZO_CreateStringId("DA_FRACTURE",            "Fracture")                         -- Fracture              [fr.lang.csv] "156152165","0","10","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_POWER",         "Augmente la puissance des sorts")  -- Increase Spell Power  [fr.lang.csv] "156152165","0","11","xxxxxxxx"
ZO_CreateStringId("DA_COWARDICE",           "Couardise")                        -- Cowardice             [fr.lang.csv] "156152165","0","12","xxxxxxxx"
ZO_CreateStringId("DA_WEAPON_POWER",        "Augmente la puissance de l'arme")  -- Increase Weapon Power [fr.lang.csv] "156152165","0","13","xxxxxxxx"
ZO_CreateStringId("DA_MAIM",                "Mutilation")                       -- Maim                  [fr.lang.csv] "156152165","0","14","xxxxxxxx"
ZO_CreateStringId("DA_SPELL_CRIT",          "Critique de sorts")                -- Spell Critical        [fr.lang.csv] "156152165","0","15","xxxxxxxx"
ZO_CreateStringId("DA_UNCERTAINTY",         "Incertitude")                      -- Uncertainty           [fr.lang.csv] "156152165","0","16","xxxxxxxx"
ZO_CreateStringId("DA_WEAPON_CRIT",         "Critique d'armes")                 -- Weapon Critical       [fr.lang.csv] "156152165","0","17","xxxxxxxx"
ZO_CreateStringId("DA_ENERVATE",            "Affaiblissement")                  -- Enervation            [fr.lang.csv] "156152165","0","18","xxxxxxxx"
ZO_CreateStringId("DA_UNSTOP",              "Implacable")                       -- Unstoppable           [fr.lang.csv] "156152165","0","19","xxxxxxxx"
ZO_CreateStringId("DA_ENTRAPMENT",          "Capture")                          -- Entrapment            [fr.lang.csv] "156152165","0","20","xxxxxxxx"
ZO_CreateStringId("DA_DETECTION",           "de détection")                     -- Detection             [fr.lang.csv] "156152165","0","21","xxxxxxxx"
ZO_CreateStringId("DA_INVISIBLE",           "invisible")                        -- Invisible             [fr.lang.csv] "156152165","0","22","xxxxxxxx"
ZO_CreateStringId("DA_SPEED",               "Vitesse")                          -- Speed                 [fr.lang.csv] "156152165","0","23","xxxxxxxx"
ZO_CreateStringId("DA_HINDRANCE",           "Entrave")                          -- Hindrance             [fr.lang.csv] "156152165","0","24","xxxxxxxx"
ZO_CreateStringId("DA_PROTECTION",          "Protection")                       -- Protection            [fr.lang.csv] "156152165","0","25","xxxxxxxx"
ZO_CreateStringId("DA_VULNERABILITY",       "Vulnérabilité")                    -- Vulnerability         [fr.lang.csv] "156152165","0","26","xxxxxxxx"
ZO_CreateStringId("DA_LGR_HEALTH",          "Santé persistante")                -- Lingering Health      [fr.lang.csv] "156152165","0","27","xxxxxxxx"
ZO_CreateStringId("DA_GR_RVG_HEALTH",       "Ravage de Santé graduel")          -- Gradual Ravage Health [fr.lang.csv] "156152165","0","28","xxxxxxxx"
ZO_CreateStringId("DA_VITALITY",            "Vitalité")                         -- Vitality              [fr.lang.csv] "156152165","0","29","xxxxxxxx"
ZO_CreateStringId("DA_DEFILE",              "Profanation")                      -- Defile                [fr.lang.csv] "156152165","0","30","xxxxxxxx"
ZO_CreateStringId("DA_HEROISM",             "Héroïsme")                         -- Heroism               [fr.lang.csv] "156152165","0","31","xxxxxxxx"
ZO_CreateStringId("DA_TIMIDITY",            "Timidité")                         -- Timidity              [fr.lang.csv] "156152165","0","32","xxxxxxxx"




function DailyAlchemy:AcquireConditions()
    local list = {
        "Acquerez%s%w+%s(.*)",
        "Acquerir%s%w+%s(.*)",
    }
    return list
end

function DailyAlchemy:ConvertedItemNames(itemName)

    local function Convert(itemName)
        local list = {
            {"é",       "e"},
            {"è",       "e"},
            {"â",       "a"},
            {"(\-)",    "(\-)"},
            {" ",       " "}, -- NO-BREAK SPACE(U+00A0) to SPACE (U+0020)
            {" IX$",    " Ⅸ"},
            {" VIII$",  " Ⅷ"},
            {" VII$",   " Ⅶ"},
            {" VI$",    " Ⅵ"},
            {" IV$",    " Ⅳ"},
            {" V$",     " Ⅴ"},
            {" III$",   " Ⅲ"},
            {" II$",    " Ⅱ"},
            {" I$",     " Ⅰ"},
        }

        local convertedItemName = itemName
        for _, value in ipairs(list) do
            convertedItemName = string.gsub(convertedItemName, value[1], value[2])
        end
        return convertedItemName
    end


    if string.match(itemName, "(\|)") then
        local itemName1 = itemName:gsub("(\|)[%a%s%p]*", ""):gsub("(\^)%a*", "")
        local itemName2 = itemName:gsub("[%a%s%p]*(\|)", ""):gsub("(\^)%a*", "")
        local list = {}

        local convertedItemName1 = Convert(itemName1)
        if convertedItemName1 == itemName1 then
            list[#list + 1] = itemName1
        else
            list[#list + 1] = convertedItemName1
            list[#list + 1] = itemName1
        end

        local convertedItemName2 = Convert(itemName2)
        if convertedItemName2 == itemName2 then
            list[#list + 1] = itemName2
        else
            list[#list + 1] = convertedItemName2
            list[#list + 1] = itemName2
        end

        return list
    else
        itemName = itemName:gsub("(\^)%a*", "")
        local convertedItemName = Convert(itemName)
        if convertedItemName == itemName then
            return {
                itemName,
            }
        else
            return {
                Convert(itemName),
                itemName,
            }
        end
    end
end

function DailyAlchemy:ConvertedJournalCondition(journalCondition)
    local list = {
        {"é",                   "e"},
        {"è",                   "e"},
        {"â",                   "a"},
        {" ",                   " "},  -- NO-BREAK SPACE(U+00A0) to SPACE (U+0020)
        {" D’",                " de "},
        {" d’",                " de "},
        {"poison de Degats ",   "Poison de ravage "},
        {"poison de Drain ",    "Poison de drain "},
        {" IX%s?",              " Ⅸ"},
        --{" IX ",                " Ⅸ "},
        {" VIII ",              " Ⅷ "},
        {" VII ",               " Ⅶ "},
        {" VI ",                " Ⅵ "},
        {" IV ",                " Ⅳ "},
        {" V ",                 " Ⅴ "},
        {" III ",               " Ⅲ "},
        {" II ",                " Ⅱ "},
        {" I ",                 " Ⅰ "},

        {"(Fabrique.*)avec.*suivant.*%c• (.*)%c• (.*)%c• (.*)%c.*",  "%1...%2, %3, %4"},
        {".*(Fabrique.*)avec.*suivant.*:(.*)",                       "%1...%2"},
        {":.*",                                                      ""}, 
    }

    local convertedCondition = journalCondition
    local result
    local lowerKey
    for _, value in ipairs(list) do
        result = string.match(convertedCondition, value[1])
        if result then
            convertedCondition = string.gsub(convertedCondition, value[1], value[2])
        else
            lowerKey = string.lower(value[1])
            result = string.match(convertedCondition, lowerKey)
            if result then
                convertedCondition = string.gsub(convertedCondition, lowerKey, value[2])
            end
        end
    end
    return convertedCondition
end

function DailyAlchemy:CraftingConditions()
    local list = {
        "Preparez",
        "Fabrique",
    }
    return list
end

function DailyAlchemy:isPoison(conditionText)
    return string.match(conditionText, "Poison")
end

function DailyAlchemy:isAlchemy(journalCondition)
    return string.match(journalCondition, "Fabriquez .* avec les traits suivants")
end

